<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative AI Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Global Top Bar -->
    <header class="top-bar">
        <div class="search-box">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                <path d="M12.5 12.5L17 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <input type="text" placeholder="搜索素材、标签、语言..." id="globalSearch">
        </div>
        <div class="top-bar-right">
            <button class="icon-btn" id="notificationBtn">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M15 7C15 5.67392 14.4732 4.40215 13.5355 3.46447C12.5979 2.52678 11.3261 2 10 2C8.67392 2 7.40215 2.52678 6.46447 3.46447C5.52678 4.40215 5 5.67392 5 7C5 13 2 15 2 15H18C18 15 15 13 15 7Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M11.73 18C11.5542 18.3031 11.3019 18.5547 10.9982 18.7295C10.6946 18.9044 10.3504 18.9965 10 18.9965C9.64964 18.9965 9.30541 18.9044 9.00179 18.7295C8.69818 18.5547 8.44583 18.3031 8.27002 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span class="badge">3</span>
            </button>
            <div class="user-avatar">
                <span>JD</span>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="logo">
            <h1>Creative<br>AI Studio</h1>
        </div>
        <nav class="nav-menu">
            <a href="#" class="nav-item active" data-page="library">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <rect x="3" y="3" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="11" y="3" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="3" y="11" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="11" y="11" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <span>素材库</span>
            </a>
            <a href="#" class="nav-item" data-page="create">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>AI 创作</span>
            </a>
            <a href="#" class="nav-item" data-page="workspace">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M3 8H17" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <span>工作台</span>
            </a>
            <a href="#" class="nav-item" data-page="settings">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M10 1V4M10 16V19M19 10H16M4 10H1M16.24 16.24L14.12 14.12M5.88 5.88L3.76 3.76M16.24 3.76L14.12 5.88M5.88 14.12L3.76 16.24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>设置</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Asset Library Page -->
        <div class="page active" id="libraryPage">
            <div class="page-header">
                <h2>素材库</h2>
                <div class="toolbar">
                    <div class="view-switcher">
                        <button class="view-btn active" data-view="grid">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="1" y="1" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="10" y="1" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="1" y="10" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="10" y="10" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                        </button>
                        <button class="view-btn" data-view="masonry">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="1" y="1" width="5" height="7" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="10" y="1" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="1" y="12" width="5" height="3" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="10" y="10" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                        </button>
                    </div>
                    <button class="btn-secondary" id="filterBtn">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M1 4H15M3 8H13M6 12H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        筛选
                    </button>
                    <select class="sort-select">
                        <option>最新上传</option>
                        <option>最近更新</option>
                        <option>Like 最多</option>
                    </select>
                </div>
            </div>

            <div class="assets-grid" id="assetsGrid"></div>
        </div>

        <!-- Asset Detail Page -->
        <div class="page" id="detailPage"></div>

        <!-- AI Create Page -->
        <div class="page" id="createPage"></div>

        <!-- Workspace Page -->
        <div class="page" id="workspacePage"></div>

        <!-- Settings Page -->
        <div class="page" id="settingsPage"></div>
    </main>

    <!-- Filter Drawer -->
    <div class="drawer" id="filterDrawer">
        <div class="drawer-header">
            <h3>筛选条件</h3>
            <button class="close-btn" id="closeFilter">×</button>
        </div>
        <div class="drawer-content">
            <div class="filter-section">
                <label>标签</label>
                <input type="text" placeholder="搜索标签..." class="filter-input">
            </div>
            <div class="filter-section">
                <label>创作人</label>
                <input type="text" placeholder="输入创作人..." class="filter-input">
            </div>
            <div class="filter-section">
                <label>语言</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" value="en"> English</label>
                    <label><input type="checkbox" value="zh"> 中文</label>
                    <label><input type="checkbox" value="ar"> العربية</label>
                    <label><input type="checkbox" value="fr"> Français</label>
                    <label><input type="checkbox" value="es"> Español</label>
                    <label><input type="checkbox" value="no-lang"> 无语言素材</label>
                </div>
            </div>
            <div class="filter-section">
                <label>其他选项</label>
                <div class="checkbox-group">
                    <label><input type="checkbox"> 透明背景</label>
                    <label><input type="checkbox"> 我 Like 的</label>
                    <label><input type="checkbox"> 我创作的</label>
                </div>
            </div>
            <div class="filter-actions">
                <button class="btn-secondary">重置</button>
                <button class="btn-primary">应用筛选</button>
            </div>
        </div>
    </div>

    <!-- Asset Picker Modal -->
    <div class="asset-picker-modal" id="assetPickerModal">
        <div class="asset-picker-overlay" onclick="closeAssetPicker()"></div>
        <div class="asset-picker-content">
            <div class="asset-picker-header">
                <h3>从素材库选择</h3>
                <button class="close-btn" onclick="closeAssetPicker()">×</button>
            </div>
            <div class="asset-picker-search">
                <div class="search-box" style="width: 100%;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M12.5 12.5L17 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <input type="text" placeholder="搜索素材..." id="assetPickerSearch">
                </div>
            </div>
            <div class="asset-picker-body">
                <div class="assets-grid" id="assetPickerGrid"></div>
            </div>
        </div>
    </div>

    <!-- Preset Editor Modal -->
    <div class="asset-picker-modal" id="presetEditorModal">
        <div class="asset-picker-overlay" onclick="closePresetEditor()"></div>
        <div class="asset-picker-content" style="max-width: 700px; height: auto; max-height: 80vh;">
            <div class="asset-picker-header">
                <h3 id="presetEditorTitle">新建预设组合</h3>
                <button class="close-btn" onclick="closePresetEditor()">×</button>
            </div>
            <div class="asset-picker-body" style="padding: 32px; overflow-y: auto;">
                <div style="display: grid; gap: 24px;">
                    <!-- Preset Name -->
                    <div>
                        <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px;">预设名称</label>
                        <input type="text" id="presetName" placeholder="例如：社交媒体标准尺寸" style="width: 100%; padding: 12px 16px; border: 1px solid var(--color-border); border-radius: var(--radius); font-size: 14px;">
                    </div>

                    <!-- Sizes List -->
                    <div>
                        <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px;">尺寸列表</label>
                        <div id="presetSizesList" style="display: grid; gap: 12px; margin-bottom: 12px;"></div>

                        <!-- Add New Size Form -->
                        <div style="border: 2px dashed var(--color-border); border-radius: var(--radius); padding: 16px; background: var(--color-hover);">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                                <div>
                                    <label style="display: block; font-size: 13px; font-weight: 500; margin-bottom: 6px; color: var(--color-secondary);">宽度 (px)</label>
                                    <input type="number" id="newSizeWidth" placeholder="1080" min="1" style="width: 100%; padding: 10px 12px; border: 1px solid var(--color-border); border-radius: 6px; font-size: 14px; background: white;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 13px; font-weight: 500; margin-bottom: 6px; color: var(--color-secondary);">高度 (px)</label>
                                    <input type="number" id="newSizeHeight" placeholder="1080" min="1" style="width: 100%; padding: 10px 12px; border: 1px solid var(--color-border); border-radius: 6px; font-size: 14px; background: white;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 13px; font-weight: 500; margin-bottom: 6px; color: var(--color-secondary);">
                                        文件大小限制 (KB)
                                        <span style="font-weight: 400; opacity: 0.7;">（可选）</span>
                                    </label>
                                    <input type="number" id="newSizeMaxSize" placeholder="留空表示不限" min="1" style="width: 100%; padding: 10px 12px; border: 1px solid var(--color-border); border-radius: 6px; font-size: 14px; background: white;">
                                </div>
                            </div>
                            <button class="btn-primary" onclick="addSizeToPreset()" style="width: 100%; padding: 10px 16px;">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" style="margin-right: 4px;">
                                    <path d="M7 2V12M2 7H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                添加尺寸
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 1px solid var(--color-border);">
                    <button class="btn-secondary" onclick="closePresetEditor()" style="flex: 1;">取消</button>
                    <button class="btn-primary" onclick="savePreset()" style="flex: 1;">保存预设</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Size Modal -->
    <div class="asset-picker-modal" id="customSizeModal">
        <div class="asset-picker-overlay" onclick="closeCustomSizeModal()"></div>
        <div class="asset-picker-content" style="max-width: 600px; height: auto;">
            <div class="asset-picker-header">
                <h3>添加自定义尺寸</h3>
                <button class="close-btn" onclick="closeCustomSizeModal()">×</button>
            </div>
            <div class="asset-picker-body" style="padding: 32px;">
                <div style="display: grid; gap: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div>
                            <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px;">宽度 (px)</label>
                            <input type="number" id="customSizeWidth" placeholder="1080" min="1" style="width: 100%; padding: 12px 16px; border: 1px solid var(--color-border); border-radius: var(--radius); font-size: 14px;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px;">高度 (px)</label>
                            <input type="number" id="customSizeHeight" placeholder="1080" min="1" style="width: 100%; padding: 12px 16px; border: 1px solid var(--color-border); border-radius: var(--radius); font-size: 14px;">
                        </div>
                    </div>

                    <div>
                        <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px;">
                            文件大小限制 (KB)
                            <span style="font-weight: 400; opacity: 0.7; font-size: 13px;">（可选）</span>
                        </label>
                        <input type="number" id="customSizeMaxSize" placeholder="留空表示不限制文件大小" min="1" style="width: 100%; padding: 12px 16px; border: 1px solid var(--color-border); border-radius: var(--radius); font-size: 14px;">
                        <p style="font-size: 12px; color: var(--color-secondary); margin-top: 6px;">设置后，生成的图片将被压缩至指定大小以内</p>
                    </div>

                    <div style="background: var(--color-hover); border-radius: var(--radius); padding: 16px;">
                        <h4 style="font-size: 13px; font-weight: 600; margin-bottom: 8px; color: var(--color-primary);">常用尺寸参考</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 12px; color: var(--color-secondary);">
                            <div>• Instagram 正方形: 1080×1080</div>
                            <div>• Facebook 封面: 820×312</div>
                            <div>• Twitter 标题: 1500×500</div>
                            <div>• LinkedIn 封面: 1584×396</div>
                            <div>• YouTube 缩略图: 1280×720</div>
                            <div>• Story 竖屏: 1080×1920</div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-top: 24px;">
                    <button class="btn-secondary" onclick="closeCustomSizeModal()" style="flex: 1;">取消</button>
                    <button class="btn-primary" onclick="saveCustomSize()" style="flex: 1;">添加到列表</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
